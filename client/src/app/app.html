<div class="app-layout" [class.error-page-layout]="isErrorPage">
  <!-- Header - Hidden on error pages and dashboard -->
  <header class="app-header" *ngIf="!isErrorPage && !isDashboardPage">
    <div class="header-content">
      <div class="logo">
        <h2 routerLink="/">{{ title }}</h2>
      </div>
      
      <div class="header-actions">
        <!-- Auth buttons for non-logged in users -->
        <div class="auth-buttons" *ngIf="!currentUser">
          <button class="btn-secondary" routerLink="/auth/login">Login</button>
          <button class="btn-secondary" routerLink="/auth/register">Sign Up</button>
        </div>
        
        <!-- User menu for logged in users -->
        <div class="user-menu" *ngIf="currentUser">
          <div class="user-info">
            <span class="user-name">{{ currentUser.name }}</span>
            <button class="btn-secondary" routerLink="/dashboard">Dashboard</button>
            <button class="btn-outline" (click)="logout()">Logout</button>
          </div>
        </div>
        
        <app-theme-toggle></app-theme-toggle>
      </div>
    </div>
  </header>

  <main class="main-content" [class.full-screen]="isErrorPage || isDashboardPage">
    <router-outlet></router-outlet>
  </main>

  <footer class="app-footer" *ngIf="!isErrorPage && !isDashboardPage">
    <div class="footer-content">
      <div class="footer-simple">
        <div class="footer-brand">
          <div class="footer-brand-icon">ðŸ”—</div>
          <span>LinkHub</span>
        </div>
        <p class="footer-description">
          Fast and reliable URL shortening service
        </p>
        <div class="footer-links">
          <a href="#" class="footer-link">Privacy</a>
          <a href="#" class="footer-link">Terms</a>
          <a href="#" class="footer-link">Contact</a>
        </div>
      </div>
    </div>
  </footer>
</div>

<!-- Logout Confirmation Dialog -->
<app-confirmation-dialog
  [isVisible]="showLogoutDialog"
  title="Confirm Logout"
  message="Are you sure you want to log out? You will need to sign in again to access your dashboard."
  confirmText="Yes, Logout"
  cancelText="Cancel"
  (confirmed)="onLogoutConfirmed()"
  (cancelled)="onLogoutCancelled()">
</app-confirmation-dialog>
